/* Cart drawer styles extracted from Navbar.css */
.cart-drawer-overlay{
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.45);
    display: flex;
    justify-content: flex-end;
    z-index: 2000;
    animation: cdfadeIn .35s ease both;
}
.cart-drawer{
    width: 420px;
    max-width: 95%;
    height: 100%;
    background: #fff;
    box-shadow: -8px 0 24px rgba(0,0,0,0.12);
    display: flex;
    flex-direction: column;
    padding: 24px;
    animation: cdSlideIn .35s ease both;
}
.cart-drawer-header{
    display:flex;
    flex-direction:column;
    gap:8px;
}
.cart-header-top{
    display:flex;
    justify-content:flex-end;
}
.cart-header-main{
    display:flex;
    align-items:center;
    justify-content:space-between;
}
.clear-cart{
    background: transparent;
    border: none;
    color: #ef4444;
    padding: 0;
    margin-top: 7px;
    font-weight: 700;
    font-size: 14px;
    cursor: pointer;
    align-self: flex-start; /* keep it aligned to the top-right */
}
.cart-close{
    border:none;
    background:#fff;

    width:36px;
    height:36px;
    border-radius:50%;
    font-size:20px;
    cursor:pointer;
}
.clear-cart{
    background:transparent;
    border:none;
    color:#ef4444;
    font-weight:700;
    cursor:pointer;
}
.cart-drawer-body{
    flex:1;
    margin-top:16px;
    overflow:auto;
}
.cart-drawer-total{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-top:20px;
    padding-top:12px;
    border-top:1px solid #f3f4f6;
    font-size:16px;
    color:#6b7280;
}
.cart-drawer-total strong{
    color:#f97316;
    font-size:18px;
}
.cart-drawer-footer{
    padding-top:12px;
}
.cart-drawer-checkout{
    width:100%;
    padding:15px 20px;
    color:#fff;
    background:linear-gradient(135deg,#ff7a00,#ff8c1a);
    border:none;
    border-radius:14px;
    font-weight:700;
    cursor:pointer;
    font-size:16px;
    box-shadow:0 10px 30px rgba(255,122,0,0.32);
}
.cart-drawer-checkout:hover{
   filter:brightness(1.05);
}

.cart-items-list{
    display:flex;
    flex-direction:column;

}
.cart-drawer-item{
    display:flex;
    align-items:center;

    border-bottom:1px solid #f3f4f6;
}
.cart-item-thumb{
    width:72px;
    height:72px;
    object-fit:cover;
    border-radius:8px;
    background:#f8fafc;
    margin-right: 10px;
    margin-bottom: 10px;
}
.cart-item-main{
    flex:1;
}
.item-name{
    font-weight:600;
    margin-bottom:6px;
}
.item-meta{
    color:#e77866;
    font-size:14px;
}
.item-sub{
    color:#6b7280;
    font-size:12px;
    margin-top:2px;
    margin-bottom:4px;
}
.item-qty{
    font-weight:700;
    color:#271311;
}

.item-controls{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:8px;
    /* contain the absolute-positioned trash icon when showing pending-delete */
    position: relative;
    min-width: 84px;
}
.qty-controls{
    display:flex;
    align-items:center;
    gap:8px;
}
.qty-btn{
    width:28px;
    height:28px;
    border-radius:6px;
    border:1px solid #e5e7eb;
    background:#fff;
    cursor:pointer;
}
.qty-btn img{
    width:14px;
    height:14px;
    object-fit:contain;
    display:block;
    margin:auto;
}
.qty-display{
    min-width:24px;
    text-align:center;
    font-weight:600;
}
.remove-btn{
    background:transparent;
    color:#ef4444;
    border:none;
    font-weight:700;
    cursor:pointer;
}
.trash-btn{
    background:transparent;
    border:none;
    font-size:50vw;
    cursor:pointer;
}

/* When an item is flagged for pending delete (quantity reached 0 but not yet confirmed),
   hide the numeric qty and show the trash icon overlayed at the qty position. */
.cart-drawer-item.pending-delete .qty-display{
    visibility: hidden;
}
.cart-drawer-item.pending-delete .trash-btn{
    /* center the trash icon where the qty used to be */
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    font-size: 18px;
    z-index: 2;
}

/* make the trash icon red for pending deletions */
.cart-drawer-item.pending-delete .trash-btn{
    color: #ef4444; /* red */
}

/* hide plus/minus buttons when pending-delete to avoid confusing controls */
.cart-drawer-item.pending-delete .qty-controls .qty-btn{
    visibility: hidden;
}

/* keep the qty-display space so layout doesn't jump; we hide numeric only (already done)
   but ensure the trash icon sits above the hidden controls */
.cart-drawer-item.pending-delete .qty-controls{
    position: relative;
}

/* Animations for smoother open/close */
@keyframes cdSlideIn {
    from { transform: translateX(100%); }
    to   { transform: translateX(0); }
}
@keyframes cdSlideOut {
    from { transform: translateX(0); }
    to   { transform: translateX(100%); }
}
@keyframes cdfadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
}
@keyframes cdfadeOut {
    from { opacity: 1; }
    to   { opacity: 0; }
}

/* Closing state toggled from Navbar.jsx */
.cart-drawer.is-closing{ animation: cdSlideOut .35s ease both; }
.cart-drawer-overlay.is-closing{ animation: cdfadeOut .35s ease both; }

@media (max-width: 900px){
    .cart-drawer-overlay{
        align-items: flex-end;
        justify-content: start;
        padding: 0;
    }
    .cart-drawer{
        width: 100%;
        max-width: 100vw;
        border-radius: 0;
        padding: 24px 24px 150px;

        box-shadow: none;
    }
    .cart-drawer-header{
        gap:12px;
    }
    .cart-drawer-body{
        margin-top:8px;
        overflow-y:auto;
    }
    .cart-items-list{ gap:16px; }
    .cart-drawer-item{
        align-items:flex-start;
        gap:14px;
        margin-top: 40px;
    }
    .cart-item-main{
        margin-top:9px;
        margin-left: 0;
    }
    .item-controls{
        flex-direction:row;
        justify-content:flex-end;
        gap:12px;
        min-width:auto;
        margin-top: 15px;
    }
    .cart-drawer-footer{
        position:fixed;
        left:0;
        right:0;
        bottom:0;
        background:#fff;
        padding:16px 24px 32px;
        box-shadow:0 -20px 50px rgba(15,23,42,0.2);
        border-radius:0;
    }
    .cart-drawer-total{
        margin-bottom:16px;
        font-size:15px;
    }
    .cart-item-thumb{
        min-width:60px;
        height:60px;
        margin-top:10px;
    }
}

